(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],[,,,,,,,,,,,,,function(t,e,i){},function(t,e,i){},function(t,e,i){},,function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var o=i(1),s=i.n(o),r=i(5),a=i.n(r),c=(i(13),i(2)),n=(i(14),i(15),i(0));function l(t){var e=t.board,i=t.selectedPosition,o=t.setSelectedPosition,s=t.blockedBoard,r=t.idxRow,a=t.idxCol,c=i.row,l=i.col,d=c===r&&l===a,u=s[r][a],h=e[r][a],b=-1===h;return Object(n.jsx)("div",{className:"Cell",onClick:function(){u||o((function(t){return t.row===r&&t.col===a?{row:-1,col:-1}:{row:r,col:a}}))},children:Object(n.jsx)("div",{className:"Content"+(u?" bg-gray":"")+(d?" selected":"")+(b?" empty":"")+(u?" blocked":""),children:h})})}i(17);function d(t){var e=t.board,i=t.selectedPosition,o=t.setSelectedPosition,s=t.blockedBoard,r=t.idxRow;return Object(n.jsx)("div",{className:"Row",children:Array.from(Array(9).keys()).map((function(t){return Object(n.jsx)(l,{board:e,selectedPosition:i,setSelectedPosition:o,blockedBoard:s,idxRow:r,idxCol:t},t)}))})}i(18);function u(t){var e=t.board,i=t.blockedBoard,o=t.selectedPosition,s=t.setSelectedPosition;return Object(n.jsx)("div",{className:"Board",children:Array.from(Array(9).keys()).map((function(t){return Object(n.jsx)(d,{board:e,blockedBoard:i,selectedPosition:o,setSelectedPosition:s,idxRow:t},t)}))})}i(19),i(20);function h(t){var e=t.sudoku,i=t.setBoard,o=t.value,s=t.isHint,r=t.selectedPosition,a=r.row,c=r.col;return Object(n.jsx)("div",{onClick:function(){e.current.setPosition(a,c,o)&&i(e.current.getBoard())},className:"Key"+(s?"":" disabled"),children:Object(n.jsx)("div",{className:"content",children:o})})}i(21);function b(t){var e=t.sudoku,i=t.board,o=t.setBoard,s=t.selectedPosition,r=s.row,a=s.col,c=-1===r&&-1===a||-1===i[r][a];return Object(n.jsx)("div",{onClick:function(){c||(e.current.resetPosition(r,a),o(e.current.getBoard()))},className:"Key"+(c?" disabled":""),children:Object(n.jsx)("div",{className:"content",children:Object(n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(n.jsx)("path",{d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"}),Object(n.jsx)("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"})]})})})}function f(t){var e=t.selectedPosition,i=t.sudoku,o=t.setBoard,s=t.hint,r=t.board;return Object(n.jsxs)("div",{className:"Keyboard",children:[Object(n.jsx)(b,{board:r,sudoku:i,setBoard:o,selectedPosition:e}),[1,2,3,4,5,6,7,8,9].map((function(t,r){return Object(n.jsx)(h,{selectedPosition:e,sudoku:i,setBoard:o,isHint:s[t],value:t},r)}))]})}i(22);function j(t){var e=t.setModalState,i=t.status,o=i.title,s=i.message,r=i.modal;return Object(n.jsx)("div",{id:"myModal",className:"modal",style:{display:r?"block":"none"},children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsx)("span",{onClick:function(){e({title:"",message:"",modal:!1})},className:"close",children:" \xd7 "}),Object(n.jsx)("h1",{children:o}),Object(n.jsx)("p",{children:s})]})})}var v=i(6),N=i(7),g=i(8),x=function(){function t(e){Object(N.a)(this,t),this.fill=e,this.UNDEFINED=-1,this.N=9,this.board=[],this.logicalBoard={rows:[],cols:[],squares:[],blocked:[]},this.initBoard()}return Object(g.a)(t,[{key:"initBoard",value:function(){this.board=this.buildMatrix(this.N,this.N,this.UNDEFINED),this.logicalBoard.rows=this.buildMatrix(this.N,this.N+1,!1),this.logicalBoard.cols=this.buildMatrix(this.N,this.N+1,!1),this.logicalBoard.squares=this.buildMatrix(this.N,this.N+1,!1),this.logicalBoard.blocked=this.buildMatrix(this.N,this.N+1,!1),this.fillBoard()}},{key:"solveBoard",value:function(){var t=this;return function e(i,o){if(i>=t.N)return!0;if(o>=t.N)return e(i+1,0);if(t.board[i][o]!==t.UNDEFINED)return e(i,o+1);var s,r=Object(v.a)(t.shuffle(Array.from({length:t.N},(function(t,e){return e+1}))));try{for(r.s();!(s=r.n()).done;){var a=s.value;if(t.setPosition(i,o,a)){if(e(i,o+1))return!0;t.resetPosition(i,o)}}}catch(c){r.e(c)}finally{r.f()}return!1}(0,0)}},{key:"fillBoard",value:function(){this.solveBoard();for(var t=Math.ceil(this.N*this.N*(1-this.fill)),e=Array.from(Array(this.N*this.N).keys()),i=0;i<this.N;i++)e=this.shuffle(e);for(var o=0;o<t;o++){var s=Math.floor(e[o]/this.N),r=e[o]%this.N,a=this.board[s][r],c=this.getIdSquare(s,r);this.board[s][r]=this.UNDEFINED,this.logicalBoard.rows[s][a]=!1,this.logicalBoard.cols[r][a]=!1,this.logicalBoard.squares[c][a]=!1}for(var n=0;n<this.N;n++)for(var l=0;l<this.N;l++)this.board[n][l]!==this.UNDEFINED&&(this.logicalBoard.blocked[n][l]=!0)}},{key:"getBoard",value:function(){return JSON.parse(JSON.stringify(this.board))}},{key:"setPosition",value:function(t,e,i){var o=this.getIdSquare(t,e);return this.board[t][e]===this.UNDEFINED&&(!this.logicalBoard.rows[t][i]&&(!this.logicalBoard.cols[e][i]&&(!this.logicalBoard.squares[o][i]&&(!this.logicalBoard.blocked[t][e]&&(this.board[t][e]=i,this.logicalBoard.rows[t][i]=!0,this.logicalBoard.cols[e][i]=!0,this.logicalBoard.squares[o][i]=!0,!0)))))}},{key:"resetPosition",value:function(t,e){var i=this.getIdSquare(t,e);if(!this.logicalBoard.blocked[t][e]&&this.board[t][e]!==this.UNDEFINED){var o=this.board[t][e];this.board[t][e]=this.UNDEFINED,this.logicalBoard.rows[t][o]=!1,this.logicalBoard.cols[e][o]=!1,this.logicalBoard.squares[i][o]=!1}}},{key:"checkSudoku",value:function(){for(var t=this.buildMatrix(this.N,this.N+1,!1),e=this.buildMatrix(this.N,this.N+1,!1),i=this.buildMatrix(this.N,this.N+1,!1),o=0;o<this.N;o++)for(var s=0;s<this.N;s++){var r=this.board[o][s],a=this.getIdSquare(o,s);if(this.board[o][s]===this.UNDEFINED)return!1;if(t[o][r])return!1;if(e[s][r])return!1;if(i[a][r])return!1;t[o][r]=!0,e[s][r]=!0,i[a][r]=!0}return!0}},{key:"getHint",value:function(t,e){for(var i=[!1],o=this.getIdSquare(t,e),s=1;s<=this.N;s++)i.push(!1),this.logicalBoard.blocked[t][e]||this.logicalBoard.cols[e][s]||this.logicalBoard.rows[t][s]||this.logicalBoard.squares[o][s]||(i[s]=!0);return i}},{key:"getIdSquare",value:function(t,e){return Math.floor(e/3)+3*Math.floor(t/3)}},{key:"shuffle",value:function(t){for(var e=t.length;0!==e;){var i=Math.floor(Math.random()*e);e--;var o=[t[i],t[e]];t[e]=o[0],t[i]=o[1]}return t}},{key:"buildMatrix",value:function(t,e,i){for(var o=[],s=0;s<t;s++)o.push(Array(e).fill(i));return o}}]),t}();var m=function(){var t=s.a.useState(.5),e=Object(c.a)(t,2),i=e[0],o=e[1],r=s.a.useRef(new x(i)),a=s.a.useState(r.current.getBoard()),l=Object(c.a)(a,2),d=l[0],h=l[1],b=s.a.useState({row:-1,col:-1}),v=Object(c.a)(b,2),N=v[0],g=v[1],m=s.a.useState([]),B=Object(c.a)(m,2),k=B[0],O=B[1],y=s.a.useState({title:"",message:"",modal:!1}),w=Object(c.a)(y,2),P=w[0],p=w[1];return s.a.useEffect((function(){r.current=new x(i),h(r.current.getBoard())}),[i]),s.a.useEffect((function(){var t=N.row,e=N.col;O(-1===t&&-1===e?[]:r.current.getHint(t,e))}),[N]),s.a.useEffect((function(){r.current.checkSudoku()&&p({title:"Parab\xe9ns",message:"Parab\xe9ns voc\xea concluiu o sudoku com ".concat(100*i,"% de preenchimento"),modal:!0})}),[d,i]),Object(n.jsxs)("div",{children:[Object(n.jsx)(j,{setModalState:p,status:P}),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("h1",{children:"Sudoku"}),Object(n.jsxs)("h3",{children:["Preenchimento ",100*i,"% "]}),Object(n.jsx)("div",{className:"m-auto",children:Object(n.jsx)("button",{onClick:function(){r.current.solveBoard()?h(r.current.getBoard()):p({title:"Erro",message:"N\xe3o existe solu\xe7\xe3o para o estado atual",modal:!0})},children:"Obter solu\xe7\xe3o"})}),Object(n.jsx)("div",{className:"m-auto",children:Object(n.jsx)("input",{value:i,min:"0",max:"1",step:"0.1",type:"range",onChange:function(t){var e=Number(t.nativeEvent.target.value);o(e)}})}),Object(n.jsx)("div",{className:"m-auto",children:Object(n.jsx)(u,{board:d,blockedBoard:r.current.logicalBoard.blocked,selectedPosition:N,setSelectedPosition:g})}),Object(n.jsx)(f,{board:d,selectedPosition:N,sudoku:r,setBoard:h,hint:k})]}),Object(n.jsxs)("div",{className:"bg",children:[Object(n.jsx)("div",{className:"bg-top"}),Object(n.jsx)("div",{className:"bg-bottom"})]})]})};a.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(m,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.26747ed0.chunk.js.map